<h2>Planung</h2>
    <ng-template matStepLabel>Eingabetabelle</ng-template>
    <p>Vertriebswunsch</p>
    <table>
      <tr>
        <th>Artikel</th>
        <th>Anzahl</th>
      </tr>
      <tr *ngFor="let item of (planendData$ | async)?.input?.sellwish">
        <td>{{ item.item.article }}</td>
        <td>{{ item.item.quantity }}</td>
      </tr>
    </table>

    <p>Direktverkauf</p>
    <table>
      <tr>
        <th>Artikel</th>
        <th>Diese Woche</th>
        <th>Preis/Einheit</th>
        <th>Strafe</th>
      </tr>
      <tr *ngFor="let item of (planendData$ | async)?.input?.selldirect; let i = index">
        <td>{{ item.item.article }}</td>
        <td>
          <input type="number" min="0"
            (keyup)="updateSellDirect($event, item.item.article, 'quantity')">
        </td>
        <td>
          <input type="number" min="0"
            (keyup)="updateSellDirect($event, item.item.article, 'price')">
        </td>
        <td>
          <input type="number" min="0"
            (keyup)="updateSellDirect($event, item.item.article, 'penalty')">
        </td>
      </tr>
    </table>

    <p>Kapazitätsbedarf</p>
    <table>
      <tr>
        <th>Arbeitsplatz</th>
        <th>Schicht</th>
        <th>Überstunden</th>
      </tr>
      <tr *ngFor="let item of (planendData$ | async)?.input?.workingtimelist">
        <td>{{ item.workingtime.station }}</td>
        <td>{{ item.workingtime.shift }}</td>
        <td>{{ item.workingtime.overtime }}</td>
      </tr>
    </table>

    <p>Bestellungen</p>
    <table>
      <tr>
        <th>Artikel</th>
        <th>Anzahl</th>
        <th>Liefermodus</th>
      </tr>
      <tr *ngFor="let item of (planendData$ | async)?.input?.orderlist">
        <td>{{ item.order.article }}</td>
        <td>{{ item.order.quantity }}</td>
        <td>{{ item.order.modus }}</td>
      </tr>
    </table>

    <p>Fertigungsaufträge</p>
    <table cdkDropList (cdkDropListDropped)="drop($event)">
      <tr class="production-header">
        <th>Artikel</th>
        <th>Anzahl</th>
      </tr>
      <tr
        cdkDrag
        class="production-box"
        *ngFor="let item of (planendData$ | async)?.input?.productionlist; let i = index"
      >
        <td>{{ item.production.article }}</td>
        <td>{{ item.production.quantity }}</td>
        <td>
          <button
            mat-icon-button aria-label="Split"
            (click)="planendDataState.splitProduction(item)"
            [disabled]="!planendDataState.canSplit(item)"
          ><mat-icon>call_split</mat-icon></button>
        </td>
        <td>
          <button
            mat-icon-button aria-label="Split"
            (click)="planendDataState.mergeProduction(i, item)"
            [disabled]="!planendDataState.canMerge(item)"
          ><mat-icon>call_merge</mat-icon></button>
        </td>
        <td><mat-icon>drag_indicator</mat-icon></td>
      </tr>
    </table>
